## 1. é¦–é¡µ

### 1.1 é¦–é¡µè½®æ’­å›¾

![image-20230226225413208](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226225413208.png)

å¸ƒå±€åˆ†æï¼š

`scr/components/XtxCarousel.vue`

![image-20230226225524559](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226225524559.png)

æ¥å£è°ƒç”¨ï¼š

æ¥å£åœ°å€ï¼š/home/banner

è¯·æ±‚æ–¹å¼ï¼šGET

ç™»å½•æƒé™: å¦

è¯·æ±‚å‚æ•°ï¼š

**Query:**

| å­—æ®µåç§°         | æ˜¯å¦å¿…é¡» | é»˜è®¤å€¼ | å¤‡æ³¨                                                 |
| ---------------- | -------- | ------ | ---------------------------------------------------- |
| distributionSite | å¦       | 1      | æ´»åŠ¨bannerä½ç½®ï¼Œ1ä»£è¡¨é¦–é¡µï¼Œ2ä»£è¡¨å•†å“åˆ†ç±»é¡µï¼Œé»˜è®¤ä¸º 1 |

æˆåŠŸå“åº”ç»“æœï¼š

| å­—æ®µåç§° | æ•°æ®ç±»å‹ | å¤‡æ³¨     |
| -------- | -------- | -------- |
| id       | String   | ID       |
| imgUrl   | String   | å›¾ç‰‡è·¯å¾„ |

```tsx
/**
 * é¦–é¡µ-å¹¿å‘ŠåŒºåŸŸ
 * @param distributionSite è¯´æ˜ï¼šå¹¿å‘ŠåŒºåŸŸå±•ç¤ºä½ç½®ï¼ˆæŠ•æ”¾ä½ç½® æŠ•æ”¾ä½ç½®ï¼Œ1ä¸ºé¦–é¡µï¼Œ2ä¸ºåˆ†ç±»å•†å“é¡µï¼‰ é»˜è®¤æ˜¯1
 */
export function getHomeBanner(distributionSite = 1) {
  return http<BannerItem[]>({
    method: 'GET',
    url: '/home/banner',
    data: {
      distributionSite: distributionSite
    }
  });
}
```

### 1.2 å‰å°ç±»ç›®

![image-20230226230031800](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226230031800.png)

å¸ƒå±€åˆ†æï¼š

![image-20230226230142132](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226230142132.png)

æ¥å£è°ƒç”¨ï¼š

æ¥å£åœ°å€ï¼š/home/category/head/mutli

è¯·æ±‚æ–¹å¼ï¼šGET

ç™»å½•æƒé™: å¦

è¯·æ±‚å‚æ•°ï¼šæ— 

æˆåŠŸå“åº”ç»“æœï¼š

| å­—æ®µåç§° | æ•°æ®ç±»å‹ | å¤‡æ³¨     |
| -------- | -------- | -------- |
| id       | String   | ID       |
| icon     | String   | å›¾ç‰‡è·¯å¾„ |
| name     | String   | ç±»ç›®åç§° |

```tsx
/**
 * é¦–é¡µ-ç±»åˆ«åŒºåŸŸ
 * @param
 */
export function getHomeCategoryHeadMutli() {
  return http<CategoryItem[]>({
    method: 'GET',
    url: '/home/category/mutli'
  });
}
```

è¿™é‡Œåˆ†ç±»çš„æ•°æ®æ˜¯è€ƒè™‘äº†ä¸æ­¢ä¸€é¡µæ•°æ®çš„æƒ…å†µï¼Œé‡‡å–äº†ä½¿ç”¨ `Map` çš„å½¢å¼ä»¥ `page` ä¸º `key` å»åˆ†ç±»å­˜å‚¨å¯¹åº”é¡µçš„æ•°æ®ï¼Œç„¶ååˆ©ç”¨åˆ†ç±»å¥½çš„ `Map` çš„é•¿åº¦å»ç®—å‡ºå®¹å™¨çš„å®½åº¦å’Œå…‰æ ‡çš„å®½åº¦

![image-20230226230920882](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226230920882.png)

### 1.3 äººæ°”æ¨è & æ–°é²œå¥½ç‰©

![image-20230226231036602](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226231036602.png)

å¸ƒå±€åˆ†æï¼š

ğŸ”¥äººæ°”æ¨è

![image-20230226231153942](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226231153942.png)

æ¥å£è°ƒç”¨ï¼š

æ¥å£åœ°å€ï¼š/home/hot/mutli

è¯·æ±‚æ–¹å¼ï¼šGET

ç™»å½•æƒé™: å¦

è¯·æ±‚å‚æ•°ï¼š

**Headers:**

| å­—æ®µåç§°      | æ˜¯å¦å¿…é¡» | é»˜è®¤å€¼ | å¤‡æ³¨                                         |
| ------------- | -------- | ------ | -------------------------------------------- |
| source-client | æ˜¯       | æ—      | åç«¯ç¨‹åºåŒºåˆ†æ¥å£è°ƒç”¨è€…ï¼Œminiapp ä»£è¡¨å°ç¨‹åºç«¯ |

æˆåŠŸå“åº”ç»“æœï¼š

| å­—æ®µåç§° | æ•°æ®ç±»å‹ | å¤‡æ³¨             |
| -------- | -------- | ---------------- |
| id       | String   | ID               |
| title    | String   | æ¨èç±»å‹åç§°     |
| type     | Number   | æ¨èç±»åˆ«         |
| alt      | String   | æ¨èç±»å‹åç§°è¯´æ˜ |
| pictures | Array    | å›¾ç‰‡åœ°å€         |

```tsx
/**
 * é¦–é¡µ-äººæ°”æ¨è
 * @param
 */
export function getHomeMutli() {
  return http<HotItem[]>({
    method: 'GET',
    url: '/home/hot/mutli'
  });
}
```

ğŸ’æ–°é²œå¥½ç‰©

![image-20230226231259025](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226231259025.png)

æ¥å£è°ƒç”¨ï¼š

æ¥å£åœ°å€ï¼š/home/new

è¯·æ±‚æ–¹å¼ï¼šGET

ç™»å½•æƒé™: å¦

è¯·æ±‚å‚æ•°ï¼š

**Query:**

| å­—æ®µåç§° | æ˜¯å¦å¿…é¡» | é»˜è®¤å€¼ | å¤‡æ³¨                   |
| -------- | -------- | ------ | ---------------------- |
| limit    | å¦       | 4      | è·å–æ–°é²œå¥½ç‰©å•†å“çš„ä¸ªæ•° |

æˆåŠŸå“åº”ç»“æœï¼š

| å­—æ®µåç§° | æ•°æ®ç±»å‹ | å¤‡æ³¨     |
| -------- | -------- | -------- |
| id       | String   | ID       |
| name     | String   | å•†å“åç§° |
| price    | Number   | å•†å“ä»·æ ¼ |
| picture  | String   | å•†å“å›¾ç‰‡ |

```tsx
/**
 * é¦–é¡µ-æ–°é²œå¥½ç‰©
 * @param
 */
export function getHomeNewList() {
  return http<NewItem[]>({
    method: 'GET',
    url: '/home/new'
  });
}
```

### 1.4 çŒœä½ å–œæ¬¢

src/components/XtxResult.vue

![image-20230226231601668](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226231601668.png)

å¸ƒå±€åˆ†æï¼š

![image-20230226231730262](https://cdn.jsdelivr.net/gh/zengzjie/picgo-image@main/static_files/image-20230226231730262.png)

æ¥å£è°ƒç”¨ï¼š

æ¥å£åœ°å€ï¼š/home/goods/guessLike

è¯·æ±‚æ–¹å¼ï¼šGET

ç™»å½•æƒé™: å¦

è¯·æ±‚å‚æ•°ï¼š

**Query:**

| å­—æ®µåç§° | æ˜¯å¦å¿…é¡» | é»˜è®¤å€¼ | å¤‡æ³¨           |
| -------- | -------- | ------ | -------------- |
| page     | å¦       | 1      | åˆ†é¡µçš„é¡µç      |
| pageSize | å¦       | 10     | æ¯é¡µæ•°æ®çš„æ¡æ•° |

æˆåŠŸå“åº”ç»“æœï¼Œ**pages çš„å«ä¹‰ä¸ºæ‰€æœ‰å•†å“æ•°æ®æ€»çš„é¡µæ•°ï¼Œitems ä¸ºæ¯é¡µçš„å•†å“æ•°æ®**

| å­—æ®µåç§° | æ•°æ®ç±»å‹ | å¤‡æ³¨         |
| -------- | -------- | ------------ |
| counts   | Number   | å•†å“æ€»æ•°é‡   |
| page     | Number   | åˆ†é¡µé¡µç      |
| pageSize | Number   | æ¯é¡µå•†å“æ•°é‡ |
| pages    | Number   | æ€»é¡µæ•°       |
| items    | Array    | å•†å“åˆ—è¡¨     |

**items**

| å­—æ®µåç§° | æ•°æ®ç±»å‹ | å¤‡æ³¨     |
| -------- | -------- | -------- |
| id       | String   | ID       |
| name     | String   | å•†å“åç§° |
| price    | Number   | å•†å“ä»·æ ¼ |
| picture  | String   | å•†å“å›¾ç‰‡ |

```tsx
/**
 * é¦–é¡µ-çŒœä½ å–œæ¬¢
 * @param
 */
export function getGuessLike(data: GetHomeGoodsGuessLikeData) {
  return http<PageResult<GuessItem>>({
    method: 'GET',
    url: '/home/goods/guessLike',
    data
  });
}
```

é¦–å±çš„æ•°æ®æ¸²æŸ“ï¼ˆonLoadæ—¶åŠ è½½çŒœä½ å–œæ¬¢æ•°æ®ï¼‰

å¤–å±‚æ˜¯å¥—ç”¨ `scroll-view` æ ‡ç­¾åœ¨æ»šåŠ¨åˆ°åº•éƒ¨æ—¶æ¸²æŸ“æ›´å¤šæ•°æ®ï¼Œç„¶åå°†æ•°æ®è¿½åŠ åˆ°ç°æœ‰çš„æ•°æ®ä¸­ã€‚

åœ¨è¯·æ±‚ä¹‹å‰å…ˆåˆ¤æ–­æ•°æ®æ˜¯å¦å·²ç»å…¨éƒ¨åŠ è½½å®Œäº†åˆ™ä¸å¿…è¦å†æ¬¡å‘èµ·è¯·æ±‚äº†ã€‚

`scroll-view` é»˜è®¤æ”¯æŒä¸‹æ‹‰åˆ·æ–°çš„åŠŸèƒ½ï¼Œé€šè¿‡ç®€å•çš„é…ç½®å°±å¯ä»¥å®ç°äº†ï¼š

- é…ç½® refresher-enabled å±æ€§ï¼Œå¼€å¯ä¸‹æ‹‰åˆ·æ–°äº¤äº’
- ç›‘å¬ refresherrefresh äº‹ä»¶ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ‰§è¡Œäº†ä¸‹æ‹‰æ“ä½œ
- é…ç½® refresher-triggered å±æ€§ï¼Œå…³é—­ä¸‹æ‹‰çŠ¶æ€