👨🏻‍💻 小程序分包：

每个使用分包小程序必定含有一个主包。所谓的主包，即放置默认启动页面/TabBar 页面，以及一些所有分包都需用到公共资源/JS 脚本；而分包则是根据开发者的配置进行划分。

在小程序启动时，默认会下载主包并启动主包内页面，当用户进入分包内某个页面时，客户端会把对应分包下载下来，下载完成后再进行展示

目前小程序分包大小有以下限制：

整个小程序所有分包大小不超过 20M 单个分包/主包大小不能超过 2M 对小程序进行分包，可以优化小程序首次启动的下载时间。

分包步骤：

1. 配置 `manifest.json`

```tsx
/* 小程序特有相关 */
"mp-weixin": {
  "optimization": {
   // 是否开启分包优化
   "subPackages": true
},
```

目前只支持 `mp-weixin、mp-qq、mp-baidu` 的分包优化

- 静态文件：分包下支持 static 等静态资源拷贝，即分包目录内放置的静态资源不会被打包到主包中，也不可在主包中使用
- js文件：当某个 js 仅被一个分包引用时，该 js 会被打包到该分包内，否则仍打到主包（即被主包引用，或被超过 1 个分包引用）
- 自定义组件：若某个自定义组件仅被一个分包引用时，且未放入到分包内，编译时会输出提示信息

2. 配置 `pages.json` 

   在pages.json中新建数组"subPackages"，数组中包含两个参数：1.root：为子包的根目录，2.pages：子包由哪些页面组成，参数同pages；

   注意：主包和分包是不能再同一目录下，在构建uniapp项目时，可以考虑一下目录结构，以便后期进行分包；

   ```json
   // 分包
  "subPackages": [
    {
      // 商品分包
      "root": "pages/goods",
      // 子包页面路径和窗口表现
      "pages": [
        {
          "path": "index",
          "style": {
            "navigationBarTitleText": "商品详情",
            "navigationStyle": "custom"
          }
        },
        {
          "path": "list",
          "style": {
            "navigationBarTitleText": "商品列表"
          }
        },
        {
          "path": "filter/index",
          "style": {
            "navigationBarTitleText": "筛选"
          }
        }
      ]
    },
    {
      // 订单分包
      "root": "pages/order",
      "pages": [
        {
          "path": "index",
          "style": {
            "navigationBarTitleText": "我的订单"
          }
        },
        {
          "path": "payment",
          "style": {
            "navigationBarTitleText": "订单支付",
            "navigationStyle": "custom",
            "navigationBarTextStyle": "black"
          }
        },
        {
          "path": "logistics",
          "style": {
            "navigationBarTitleText": "查看物流"
          }
        },
        {
          "path": "detail",
          "style": {
            "navigationBarTitleText": "订单详情",
            "navigationStyle": "custom",
            "navigationBarTextStyle": "black"
          }
        },
        {
          "path": "create",
          "style": {
            "navigationBarTitleText": "填写订单"
          }
        }
      ]
    }
  ],
   ```

   